{"version":3,"file":"static/js/322.1c0dd5d1.chunk.js","mappings":"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","sources":["webpack://lev-time-tracking-frontend/./src/pages/Home/style.module.scss?08fe","utils/index.js","webpack://lev-time-tracking-frontend/./src/components/TimeCard/style.module.scss?9155","components/TimeCard/index.jsx","pages/Home/useHome.js","api/hooks/useGetTimeListQuery.js","webpack://lev-time-tracking-frontend/./src/components/Datepicker/style.module.scss?9c36","components/Datepicker/index.jsx","webpack://lev-time-tracking-frontend/./src/modals/AddTimeModal/styles.module.scss?818d","modals/AddTimeModal/index.jsx","modals/AddTimeModal/useAddTimeModal.js","pages/Home/index.jsx","constants/index.js","services/timeService.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"home\":\"style_home__aRllz\",\"trackingContainer\":\"style_trackingContainer__6zKnl\",\"todayTotal\":\"style_todayTotal__5iFlB\"};","export const getTime = (time) => {\n  const hours = Math.floor(time / 60);\n  const minutes = time % 60;\n  let res = `${((hours === 0 && minutes) || (!hours && !minutes)) ? '' : hours}${hours && minutes ? '.' : ''}${minutes === 0 && hours ? '' : minutes}`;\n  if (minutes && !hours) {\n    res += 'm';\n  } else if (hours) {\n    res += 'h';\n  }\n\n  return res;\n};\n\nexport const formatTime = (time) => {\n  const hours = Math.floor(time / 60);\n  const minutes = time % 60;\n\n  return `${hours}.${minutes}`;\n};\n\nexport const getTimeLabels = (time) => {\n  const hours = Math.floor(time / 60);\n  const minutes = time % 60;\n  let res = '';\n  if (minutes && !hours) {\n    res += 'm';\n  } else if (hours) {\n    res += 'h';\n  }\n\n  return res;\n};\n\nexport const getFieldDate = () => {\n  const date = new Date();\n  return `${date.getDate()}-${date.getMonth()}-${date.getFullYear()}`;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"style_card__cydnF\",\"cardContent\":\"style_cardContent__pzVKw\",\"link\":\"style_link__o3ZAy\",\"title\":\"style_title__iW8z9\",\"value\":\"style_value__yEIw0\",\"icon\":\"style_icon__bRlSd\",\"pluseBtn\":\"style_pluseBtn__RrbqC\",\"detailsBtn\":\"style_detailsBtn__tkfiS\",\"detailText\":\"style_detailText__uNK59\",\"eyeIcon\":\"style_eyeIcon__Dpp91\",\"footer\":\"style_footer__sUCsF\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { EyeIcon, PlusIcon } from '../../assets/icons';\nimport { getTime } from '../../utils';\nimport Button from '../Button';\nimport st from './style.module.scss';\n\nexport default function TimeCard({\n  time, title, id, handlePlus, onClickCard,\n}) {\n  const onPlus = (e) => {\n    e.stopPropagation();\n    handlePlus();\n  };\n  return (\n    <div\n      className={st.card}\n      onClick={onClickCard}\n    >\n      <div className={st.cardContent}>\n        <div className={st.title}>\n          {title}\n        </div>\n        <div className={st.value}>\n          {getTime(time)}\n        </div>\n        <div className={st.footer}>\n          <Button styles={st.pluseBtn} variant=\"secondary\" onClick={onPlus}>\n            <PlusIcon className={st.icon} />\n          </Button>\n          <Link to={`/time/${id}`} className={st.link} onClick={(e) => e.stopPropagation()}>\n            <Button styles={st.detailsBtn}>\n              <div className={st.detailText}>View Details</div>\n              <EyeIcon className={st.eyeIcon} />\n            </Button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { useMutation } from 'react-query';\nimport { useGetTimeListQuery } from '../../api/hooks/useGetTimeListQuery';\nimport { timeService } from '../../services/timeService';\nimport { formatTime, getTimeLabels } from '../../utils';\n\nexport const useHome = () => {\n  const [list, setList] = useState([]);\n  const { data, isLoading } = useGetTimeListQuery();\n\n  const updateList = (item) => {\n    setList(list.map((i) => (i._id === item._id ? item : i)));\n  };\n\n  const { mutate, isLoading: isLoadingUpdate } = useMutation(timeService.addTime, {\n    onSuccess: (res) => {\n      const item = res.data;\n      updateList(item);\n    },\n  });\n\n  const handleAddTime = (_id, time) => {\n    mutate({ _id, time });\n  };\n\n  useEffect(() => {\n    if (data?.data) {\n      setList(data.data);\n    }\n  }, [data?.data]);\n\n  const total = list.reduce((res, item) => res + item.time, 0);\n\n  return {\n    isLoading: isLoading || isLoadingUpdate,\n    list,\n    total: formatTime(total),\n    totalLabel: getTimeLabels(total),\n    handleAddTime,\n    updateList,\n  };\n};\n","import { useQuery } from 'react-query';\nimport { queryKeys } from '../queryKeys';\nimport { timeService } from '../../services/timeService';\n\nexport function useGetTimeListQuery(options) {\n  const { isLoading, data } = useQuery(queryKeys.timeList, timeService.getTimeList, {\n    ...options,\n  });\n\n  return {\n    isLoading,\n    data,\n  };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"style_input__cpsPR\"};","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport DatePicker from 'react-datepicker';\nimport st from './style.module.scss';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport Input from '../Input';\n\nexport default function Datepicker({\n  onChange,\n}) {\n  const [startDate, setStartDate] = useState(new Date());\n\n  const handleChange = (date) => {\n    if (onChange) {\n      onChange(date);\n    }\n    setStartDate(date);\n  };\n\n  return (\n    <DatePicker\n      selected={startDate}\n      onChange={handleChange}\n      customInput={<Input containerStyles={st.input} label=\"Date:\" />}\n    />\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"addTimeModal\":\"styles_addTimeModal__lNeZV\",\"title\":\"styles_title__A3czD\",\"btn\":\"styles_btn__jeasd\",\"timeBtn\":\"styles_timeBtn__iInCD\"};","import React from 'react';\nimport Button from '../../components/Button';\nimport Datepicker from '../../components/Datepicker';\nimport Input from '../../components/Input';\nimport { ModalWrapper } from '../ModalWrapper';\nimport st from './styles.module.scss';\nimport { useAddTimeModal } from './useAddTimeModal';\n\nexport function AddTimeModal({\n  open, onClose, updateList,\n}) {\n  const {\n    handleChange, handleChangeTime, handleChangeDate,\n  } = useAddTimeModal(updateList, onClose);\n\n  return (\n    <ModalWrapper open={open} onClose={onClose}>\n      <div className={st.addTimeModal}>\n        <div className={st.header}>\n          <div className={st.title}>Add time</div>\n        </div>\n        <Input type=\"number\" onChange={handleChange} label=\"Time:\" />\n\n        <Datepicker onChange={handleChangeDate} />\n\n        <Button styles={st.btn} onClick={handleChangeTime}>\n          Save\n        </Button>\n      </div>\n    </ModalWrapper>\n  );\n}\n","import { useState } from 'react';\nimport { useMutation } from 'react-query';\nimport { useModal } from '../../contexts/modals';\nimport { timeService } from '../../services/timeService';\n\nexport const useAddTimeModal = (updateList, onClose) => {\n  const [date, setDate] = useState(false);\n  const [value, setValue] = useState(0);\n  const { data } = useModal();\n\n  const { mutate } = useMutation(timeService.addTime, {\n    onSuccess: (res) => {\n      const item = res.data;\n      updateList(item);\n      onClose();\n    },\n  });\n\n  const handleChangeTime = () => {\n    mutate({ _id: data, time: value, date });\n  };\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  const handleChangeDate = (date) => {\n    setDate(date);\n  };\n\n  return {\n    handleChange,\n    handleChangeTime,\n    handleChangeDate,\n  };\n};\n","import { Link } from 'react-router-dom';\nimport CountUp from 'react-countup';\nimport st from './style.module.scss';\nimport TimeCard from '../../components/TimeCard';\nimport { ADD_TIME_MODAL } from '../../constants/modals';\nimport { DEFAULT_ADD_TIME } from '../../constants';\nimport { useHome } from './useHome';\nimport { AddTimeModal } from '../../modals/AddTimeModal';\nimport { useModal } from '../../contexts/modals';\nimport Loader from '../../components/Loader';\n\nfunction Home() {\n  const {\n    list, total, isLoading, totalLabel, handleAddTime, updateList,\n  } = useHome();\n  const { open, onOpen, onClose } = useModal();\n\n  return (\n    <div className={st.home}>\n      <Loader isLoading={isLoading} />\n      <Link to=\"time/total\">\n        <div className={st.todayTotal}>\n          <CountUp end={total} duration={1} decimals={2} />\n          {totalLabel}\n        </div>\n      </Link>\n      <div className={st.trackingContainer}>\n        {list.map(({ time, name, _id }) => (\n          <TimeCard\n            key={_id}\n            time={time}\n            title={name}\n            id={_id}\n            onClickCard={() => handleAddTime(_id, DEFAULT_ADD_TIME)}\n            handlePlus={() => onOpen(ADD_TIME_MODAL, _id)}\n          />\n        ))}\n      </div>\n      <AddTimeModal onClose={onClose} open={open} updateList={updateList} />\n    </div>\n  );\n}\n\nexport default Home;\n","export const DEFAULT_ADD_TIME = 30;\n","import httpClient from '../api/httpClient';\n\nclass TimeService {\n  addTime({ _id, time, date }) {\n    return httpClient.post('time/add-time', { _id, time, date }).then((res) => res);\n  }\n\n  getTimeList() {\n    return httpClient.get('time/time-list').then((res) => res);\n  }\n\n  getTime(id) {\n    return httpClient.get(`time/${id}`).then((res) => res);\n  }\n\n  getTotal() {\n    return httpClient.get('time/total').then((res) => res);\n  }\n}\n\nexport const timeService = new TimeService();\n"],"names":["getTime","time","hours","Math","floor","minutes","res","formatTime","getTimeLabels","TimeCard","title","id","handlePlus","onClickCard","className","st","onClick","Button","styles","variant","e","stopPropagation","to","useHome","useState","list","setList","options","useQuery","queryKeys","timeService","isLoading","data","useGetTimeListQuery","updateList","item","map","i","_id","useMutation","onSuccess","mutate","isLoadingUpdate","useEffect","total","reduce","totalLabel","handleAddTime","Datepicker","onChange","Date","startDate","setStartDate","selected","date","customInput","Input","containerStyles","label","AddTimeModal","open","onClose","setDate","value","setValue","useModal","handleChange","target","handleChangeTime","handleChangeDate","useAddTimeModal","ModalWrapper","type","onOpen","Loader","end","duration","decimals","name","ADD_TIME_MODAL","TimeService","httpClient","then"],"sourceRoot":""}