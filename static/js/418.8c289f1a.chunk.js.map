{"version":3,"file":"static/js/418.8c289f1a.chunk.js","mappings":"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","sources":["api/httpClient.js","api/interceptor.js","api/queryKeys.js","webpack://lev-time-tracking-frontend/./src/components/Button/style.module.scss?b84f","components/Button/index.jsx","webpack://lev-time-tracking-frontend/./src/components/Input/style.module.scss?a22d","components/Input/index.jsx","components/LineChart/index.jsx","pages/TimeDetails/useTimeDetails.js","webpack://lev-time-tracking-frontend/./src/pages/TimeDetails/style.module.scss?2311","pages/TimeDetails/index.jsx","services/timeService.js"],"sourcesContent":["import axios from 'axios';\nimport { apiResponseInterceptor } from './interceptor';\n\nconst options = {\n  baseURL: process.env.REACT_APP_BASE_URL,\n  responseType: 'json',\n  headers: {\n    common: {\n      Accept: 'application/json',\n    },\n  },\n};\n\nconst httpClient = axios.create(options);\n// TODO: later\n// httpClient.interceptors.request.use(apiRequestInterceptor);\nhttpClient.interceptors.response.use(null, apiResponseInterceptor);\n\nexport default httpClient;\n","import { toast } from 'react-toastify';\n\nexport const apiRequestInterceptor = (config) => {\n  const { url } = config;\n  const token = localStorage.getItem('token');\n\n  if (!/^(http|https):/i.test(url)) {\n    const headers = {};\n\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n\n    config.headers = {\n      ...config.headers,\n      ...headers,\n    };\n\n    config.url = `${url.replace(/^\\/+/, '')}`;\n\n    return config;\n  }\n\n  return config;\n};\n\nexport const apiResponseInterceptor = () => {\n  toast.error('Network error');\n};\n","export const queryKeys = {\n  time: 'time',\n  timeList: 'timeList',\n  total: 'total',\n  routineList: 'routineList',\n  routine: 'routine',\n  todoList: 'todoList',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"style_button__pEfPR\",\"danger\":\"style_danger__eOlmJ\",\"secondary\":\"style_secondary__aFgOV\"};","/* eslint-disable react/button-has-type */\nimport React from 'react';\nimport cn from 'classnames';\nimport st from './style.module.scss';\n\nexport default function Button({\n  children, styles, variant, onClick, type,\n}) {\n  return (\n    <button\n      className={cn(st.button, styles, st[variant])}\n      onClick={onClick}\n      type={type || 'button'}\n    >\n      {children}\n    </button>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"style_input__A36eO\",\"label\":\"style_label__UJZuU\"};","import React, { forwardRef } from 'react';\nimport cn from 'classnames';\nimport st from './style.module.scss';\n\nconst Input = forwardRef(({\n  styles, containerStyles, variant, onChange, label, ...rest\n}, ref) => (\n  <div className={cn(st.inputConatiner, containerStyles)}>\n    {label && (\n    <div className={st.label}>\n      {label}\n    </div>\n    )}\n    <input\n      {...rest}\n      ref={ref}\n      className={cn(st.input, styles, st[variant])}\n      onChange={onChange}\n    />\n  </div>\n));\n\nexport default Input;\n","import React, { useMemo } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n);\n\nexport const options = {\n  layout: {\n    padding: 25,\n  },\n  scales: {\n    y: {\n      ticks: { color: 'rgb(255, 255, 255, 0.7)' },\n      grid: {\n        color: 'rgb(255, 255, 255, 0.5)',\n      },\n    },\n    x: {\n      ticks: { color: 'rgb(255, 255, 255, 0.7)' },\n      grid: {\n        color: 'rgb(255, 255, 255, 0.5)',\n      },\n    },\n  },\n  plugins: {\n    legend: {\n      display: false,\n    },\n    title: {\n      display: false,\n    },\n  },\n};\n\nexport default function LineChart({\n  bgColor, gradient, labels, values,\n}) {\n  const plugin = useMemo(() => ({\n    id: 'custom_canvas_background_color',\n    beforeDraw: (chart) => {\n      const ctx = chart.canvas.getContext('2d');\n      ctx.save();\n      ctx.globalCompositeOperation = 'destination-over';\n      const gradientBack = ctx.createLinearGradient(0, 0, 90, 250);\n      gradientBack.addColorStop(0, gradient[0]);\n      gradientBack.addColorStop(1, gradient[1]);\n      ctx.fillStyle = gradientBack;\n      ctx.fillRect(0, 0, chart.width, chart.height);\n      ctx.restore();\n    },\n  }), [bgColor, gradient]);\n\n  const data = useMemo(() => ({\n    labels,\n    datasets: [\n      {\n        label: 'Dataset 1',\n        data: values,\n        color: 'rgb(255, 255, 255)',\n        borderColor: 'rgb(255, 255, 255)',\n        backgroundColor: 'rgba(255, 255, 255, 1)',\n      },\n    ],\n  }), [labels, values]);\n\n  return (\n    <Line options={options} data={data} plugins={[plugin]} />\n  );\n}\n","import { useEffect } from 'react';\nimport { useQuery } from 'react-query';\nimport { useParams } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { queryKeys } from '../../api/queryKeys';\nimport { timeService } from '../../services/timeService';\n\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\nexport const useTimeDetails = () => {\n  const params = useParams();\n  const isTotal = params.id === 'total';\n\n  const { isLoading, data, remove } = useQuery(\n    queryKeys.total,\n    isTotal ? timeService.getTotal : () => timeService.getTime(params.id),\n  );\n  const { register, handleSubmit, setValue } = useForm();\n\n  const res = (isTotal ? data?.data : data?.data?.time) || [];\n\n  const labels = res?.map(({ date }) => {\n    const [first, second] = date.split('-');\n    return `${first} ${months[second]}`;\n  }) || [];\n\n  const values = res?.map((i) => i.time) || [];\n\n  useEffect(() => {\n    if (data?.data) {\n      setValue('minTime', data.data.minTime || 0);\n    }\n  }, [data?.data]);\n\n  useEffect(() => () => remove(), []);\n\n  return {\n    register,\n    handleSubmit,\n    isLoading: isLoading || isLoading,\n    title: isTotal ? 'total' : data?.data?.name,\n    labels: ['0', '0', ...labels, '0', '0'],\n    values: [0, 0, ...values, 0, 0],\n  };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"chartContainer\":\"style_chartContainer__OMcfA\",\"title\":\"style_title__Pgg1y\",\"name\":\"style_name__9DqSJ\",\"timeDetailsContainer\":\"style_timeDetailsContainer__MKNTC\",\"containerInput\":\"style_containerInput__HnbFn\",\"timeForm\":\"style_timeForm__5j3lv\",\"button\":\"style_button__CzF0s\"};","import Button from '../../components/Button';\nimport Input from '../../components/Input';\nimport LineChart from '../../components/LineChart';\nimport Loader from '../../components/Loader';\nimport { useTimeDetails } from './useTimeDetails';\nimport st from './style.module.scss';\n\nfunction TimeDetails() {\n  const {\n    labels,\n    values,\n    title,\n    isLoading,\n    register,\n    handleSubmit,\n  } = useTimeDetails();\n\n  const onSubmit = (data) => console.log(data);\n\n  if (isLoading) return <Loader />;\n\n  return (\n    <div className={st.timeDetailsContainer}>\n      <div className={st.title}>\n        Time details for\n        <div className={st.name}>{title}</div>\n      </div>\n      <div className={st.chartContainer}>\n        <LineChart\n          title=\"chart\"\n          bgColor=\"#ff4d4d\"\n          labels={labels}\n          values={values}\n          gradient={['#29901e', '#77c91a']}\n        />\n      </div>\n      <div className={st.timeForm}>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Input\n            {...register('minTime')}\n            containerStyles={st.containerInput}\n            label=\"Minimum time\"\n          />\n\n          <Button type=\"submit\" styles={st.button}>\n            Save\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default TimeDetails;\n","import httpClient from '../api/httpClient';\n\nclass TimeService {\n  addTime({ _id, time, date }) {\n    return httpClient.post('time/add-time', { _id, time, date }).then((res) => res);\n  }\n\n  getTimeList() {\n    return httpClient.get('time/time-list').then((res) => res);\n  }\n\n  getTime(id) {\n    return httpClient.get(`time/${id}`).then((res) => res);\n  }\n\n  getTotal() {\n    return httpClient.get('time/total').then((res) => res);\n  }\n}\n\nexport const timeService = new TimeService();\n"],"names":["httpClient","axios","baseURL","process","responseType","headers","common","Accept","interceptors","response","use","toast","queryKeys","time","timeList","total","routineList","routine","todoList","Button","children","styles","variant","onClick","type","className","cn","st","forwardRef","ref","containerStyles","onChange","label","rest","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","options","layout","padding","scales","y","ticks","color","grid","x","plugins","legend","display","title","LineChart","bgColor","gradient","labels","values","plugin","useMemo","id","beforeDraw","chart","ctx","canvas","getContext","save","globalCompositeOperation","gradientBack","createLinearGradient","addColorStop","fillStyle","fillRect","width","height","restore","data","datasets","borderColor","backgroundColor","months","params","useParams","isTotal","useQuery","timeService","isLoading","remove","useForm","register","handleSubmit","setValue","res","map","date","split","first","second","i","useEffect","minTime","name","useTimeDetails","Loader","onSubmit","console","log","Input","TimeService","_id","then"],"sourceRoot":""}